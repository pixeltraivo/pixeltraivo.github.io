window.addEventListener("load",()=>{const e=document.getElementById("preloader");setTimeout(()=>{e&&e.classList.add("hide")},500)});const navbar=document.getElementById("navbar"),navToggle=document.getElementById("navToggle"),navMenu=document.getElementById("navMenu"),navLinks=document.querySelectorAll(".nav-link");let lastScroll=0;function initializeVideos(){const e=document.getElementById("showreelPlayer");if(e)try{const o=new Vimeo.Player(e),t=e.closest(".video-player");o.setLoop(!0).catch(e=>console.log("Loop error:",e)),o.setQuality("auto").catch(e=>console.log("Quality error:",e)),t&&(t.addEventListener("mouseenter",()=>{o.play().catch(e=>{})}),t.addEventListener("mouseleave",()=>{o.pause().catch(e=>{})})),console.log("✅ Showreel video initialized")}catch(e){console.error("Showreel player error:",e)}const o=document.querySelectorAll(".portfolio-video"),t=[];o.length>0&&(o.forEach((e,o)=>{try{const n=new Vimeo.Player(e);t.push(n),n.setLoop(!0).catch(e=>{}),n.setQuality("auto").catch(e=>{});const r=e.closest(".portfolio-card");r&&(r.addEventListener("mouseenter",()=>{t.forEach((e,t)=>{t!==o&&e.pause().catch(e=>{})}),n.play().catch(e=>{})}),r.addEventListener("mouseleave",()=>{n.pause().catch(e=>{})}))}catch(e){console.error(`Portfolio video ${o} error:`,e)}}),console.log(`✅ Initialized ${t.length} portfolio videos`))}window.addEventListener("scroll",()=>{const e=window.pageYOffset;navbar&&(e>100?navbar.classList.add("scrolled"):navbar.classList.remove("scrolled")),lastScroll=e},{passive:!0}),navToggle&&navMenu&&navToggle.addEventListener("click",()=>{navMenu.classList.toggle("active"),navToggle.classList.toggle("active")}),navLinks.forEach(e=>{e.addEventListener("click",()=>{navMenu&&navMenu.classList.remove("active"),navToggle&&navToggle.classList.remove("active")})}),document.addEventListener("click",e=>{navMenu.contains(e.target)||navToggle.contains(e.target)||(navMenu&&navMenu.classList.remove("active"),navToggle&&navToggle.classList.remove("active"))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const o=document.querySelector(this.getAttribute("href"));if(o){const e=o.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}})}),window.addEventListener("load",()=>{if("undefined"==typeof Vimeo)return console.warn("⚠️ Vimeo Player API not loaded yet - retrying..."),void setTimeout(()=>{"undefined"!=typeof Vimeo&&initializeVideos()},1e3);initializeVideos()});const portfolioWrapper=document.querySelector(".portfolio-scroll-wrapper");if(portfolioWrapper){let e,o,t=!1;portfolioWrapper.addEventListener("mousedown",n=>{t=!0,portfolioWrapper.style.cursor="grabbing",e=n.pageX-portfolioWrapper.offsetLeft,o=portfolioWrapper.scrollLeft}),portfolioWrapper.addEventListener("mouseleave",()=>{t=!1,portfolioWrapper.style.cursor="grab"}),portfolioWrapper.addEventListener("mouseup",()=>{t=!1,portfolioWrapper.style.cursor="grab"}),portfolioWrapper.addEventListener("mousemove",n=>{if(!t)return;n.preventDefault();const r=2.5*(n.pageX-portfolioWrapper.offsetLeft-e);portfolioWrapper.scrollLeft=o-r});let n=0,r=0;portfolioWrapper.addEventListener("touchstart",e=>{n=e.touches[0].pageX-portfolioWrapper.offsetLeft,r=portfolioWrapper.scrollLeft},{passive:!0}),portfolioWrapper.addEventListener("touchmove",e=>{const o=2.5*(e.touches[0].pageX-portfolioWrapper.offsetLeft-n);portfolioWrapper.scrollLeft=r-o},{passive:!0}),console.log("✅ Portfolio scroll initialized")}const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach((e,o)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.add("visible")},100*o),observer.unobserve(e.target))})},observerOptions),fadeElements=document.querySelectorAll(".fade-in, .benefit-item");fadeElements.forEach(e=>observer.observe(e)),fadeElements.length>0&&console.log(`✅ Observing ${fadeElements.length} fade-in elements`);const backToTop=document.getElementById("backToTop");backToTop&&(window.addEventListener("scroll",()=>{window.pageYOffset>500?backToTop.classList.add("show"):backToTop.classList.remove("show")},{passive:!0}),backToTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),console.log("✅ Back to top initialized"));const testimonialsTrack=document.querySelector(".testimonials-track");testimonialsTrack&&(testimonialsTrack.addEventListener("mouseenter",()=>{testimonialsTrack.style.animationPlayState="paused"}),testimonialsTrack.addEventListener("mouseleave",()=>{testimonialsTrack.style.animationPlayState="running"}),console.log("✅ Testimonials scroll initialized"));const contactForm=document.querySelector(".contact-form");contactForm&&(contactForm.addEventListener("submit",e=>{const o=contactForm.querySelector("#name"),t=contactForm.querySelector("#email"),n=contactForm.querySelector("#message");if(!o||!t||!n)return void console.warn("Form fields not found");const r=o.value.trim(),s=t.value.trim(),a=n.value.trim();if(!r||!s||!a)return e.preventDefault(),void alert("⚠️ Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return e.preventDefault(),void alert("⚠️ Please enter a valid email address");console.log("✅ Form validation passed")}),console.log("✅ Form validation initialized"));const statItems=document.querySelectorAll(".stat-item h3"),animateCounter=e=>{const o=e.textContent,t=parseInt(o);if(isNaN(t))return;const n=t/125;let r=0;const s=()=>{r+=n,r<t?(e.textContent=Math.floor(r)+"+",requestAnimationFrame(s)):e.textContent=t+"+"};s()},statsObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(statItems.forEach((e,o)=>{setTimeout(()=>{animateCounter(e)},200*o)}),statsObserver.disconnect())})},{threshold:.5}),statsSection=document.querySelector(".hero-stats");statsSection&&(statsObserver.observe(statsSection),console.log("✅ Stats counter initialized"));const sections=document.querySelectorAll("section[id]");if(sections.length>0&&window.addEventListener("scroll",()=>{const e=window.pageYOffset;sections.forEach(o=>{const t=o.offsetHeight,n=o.offsetTop-100,r=o.getAttribute("id"),s=document.querySelector(`.nav-link[href="#${r}"]`);s&&e>n&&e<=n+t&&(document.querySelectorAll(".nav-link").forEach(e=>{e.classList.remove("active")}),s.classList.add("active"))})},{passive:!0}),"IntersectionObserver"in window){const e=new IntersectionObserver(o=>{o.forEach(o=>{if(o.isIntersecting){const t=o.target;t.dataset.src&&(t.src=t.dataset.src,t.classList.add("loaded"),e.unobserve(t))}})});document.querySelectorAll("img[data-src]").forEach(o=>{e.observe(o)})}if(document.addEventListener("keydown",e=>{"Escape"===e.key&&navMenu&&navMenu.classList.contains("active")&&(navMenu.classList.remove("active"),navToggle&&navToggle.classList.remove("active"))}),navMenu){const e=navMenu.querySelectorAll("a, button"),o=e[0],t=e[e.length-1];navMenu.addEventListener("keydown",e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===o&&(t.focus(),e.preventDefault()):document.activeElement===t&&(o.focus(),e.preventDefault()))})}const scrollProgress=document.createElement("div");scrollProgress.style.cssText="\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 0%;\n  height: 3px;\n  background: linear-gradient(90deg, #ff6b35, #fbbf24);\n  z-index: 9999;\n  transition: width 0.1s ease;\n",document.body.appendChild(scrollProgress),window.addEventListener("scroll",()=>{const e=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=window.pageYOffset/e*100;scrollProgress.style.width=o+"%"},{passive:!0}),console.log("✅ Scroll progress bar added"),window.addEventListener("error",e=>{console.error("JavaScript Error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason),e.preventDefault()});const features={intersectionObserver:"IntersectionObserver"in window,smoothScroll:"scrollBehavior"in document.documentElement.style,backdropFilter:CSS.supports("backdrop-filter","blur(10px)"),webGL:!!document.createElement("canvas").getContext("webgl")};console.log("🔍 Browser Features:",features),features.smoothScroll||document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"auto"})})}),document.body.classList.add("preload");const preloadStyle=document.createElement("style");function initApp(){const e={navbar:document.getElementById("navbar"),backToTop:document.getElementById("backToTop"),contactForm:document.querySelector(".contact-form"),portfolioWrapper:document.querySelector(".portfolio-scroll-wrapper"),showreelPlayer:document.getElementById("showreelPlayer")};console.log("%c 📋 Element Status: ","color: #ff6b35; font-weight: bold;");let o=0;Object.entries(e).forEach(([e,t])=>{t?(console.log(`  ✅ ${e}`),o++):console.log(`  ⚠️  ${e} (optional)`)}),console.log(`\n%c 🎯 ${o}/${Object.keys(e).length} Elements Loaded `,"background: #10b981; color: white; padding: 4px 12px; border-radius: 4px; font-weight: bold;"),console.log("%c ────────────────────────────────────── ","color: rgba(255, 107, 53, 0.3);")}if(preloadStyle.textContent="\n  .preload * {\n    animation-duration: 0s !important;\n    transition-duration: 0s !important;\n  }\n",document.head.appendChild(preloadStyle),window.addEventListener("load",()=>{setTimeout(()=>{document.body.classList.remove("preload")},100)}),console.log("%c ✨ PIXELTRAIVO® ","background: linear-gradient(135deg, #ff6b35, #ff8c5f); color: white; font-size: 24px; font-weight: bold; padding: 12px 24px; border-radius: 8px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);"),console.log("%c 🎬 Professional Video Editor & Motion Designer ","background: #0f172a; color: #ff6b35; font-size: 14px; font-weight: 600; padding: 8px 16px; border-radius: 6px; border: 2px solid #ff6b35;"),console.log("%c 💼 Crafting Visual Stories That Resonate ","color: #ff6b35; font-size: 12px; font-weight: 500; font-style: italic;"),console.log("%c ────────────────────────────────────── ","color: rgba(255, 107, 53, 0.3);"),console.log("%c ✅ Website Loaded Successfully! ","background: #10b981; color: white; font-size: 14px; font-weight: bold; padding: 8px 16px; border-radius: 6px;"),console.log("%c ⚡ Clean & Fast Performance Mode Active ","background: #fbbf24; color: #0a0a0a; font-size: 12px; font-weight: 600; padding: 6px 12px; border-radius: 4px;"),console.log("%c 📧 Contact: pixeltraivo@gmail.com ","color: #ff6b35; font-size: 11px;"),console.log("%c 📱 WhatsApp: +91 88157 20085 ","color: #ff6b35; font-size: 11px;"),console.log("%c ────────────────────────────────────── ","color: rgba(255, 107, 53, 0.3);"),console.log("%c 🚀 Features Loaded: ","color: #ff6b35; font-weight: bold; font-size: 12px;"),console.log("  ✓ Smooth Scrolling"),console.log("  ✓ Video Hover Play"),console.log("  ✓ Portfolio Scroll"),console.log("  ✓ Fade-in Animations"),console.log("  ✓ Stats Counter"),console.log("  ✓ Form Validation"),console.log("  ✓ Mobile Optimized"),console.log("  ✓ Scroll Progress Bar"),console.log("%c ────────────────────────────────────── ","color: rgba(255, 107, 53, 0.3);"),console.log("%c © 2025 PixelTraivo® | All Rights Reserved ","color: rgba(255, 107, 53, 0.6); font-size: 10px;"),console.log("%c Made with ❤️ for Creative Storytelling ","color: rgba(255, 107, 53, 0.6); font-size: 10px;"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initApp):initApp(),window.addEventListener("load",()=>{if(window.performance){const e=performance.timing.loadEventEnd-performance.timing.navigationStart;if(console.log(`%c ⚡ Page Load Time: ${e}ms `,"background: #10b981; color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px;"),window.PerformanceObserver)try{new PerformanceObserver(e=>{for(const o of e.getEntries())"first-contentful-paint"===o.name&&console.log(`%c 🎨 FCP: ${Math.round(o.startTime)}ms `,"background: #3b82f6; color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px;")}).observe({entryTypes:["paint"]})}catch(e){}}}),window.innerWidth>1024){const e=document.querySelector(".hero");e&&(window.addEventListener("scroll",()=>{const o=window.pageYOffset;e.style.transform=`translateY(${.5*o}px)`},{passive:!0}),console.log("✅ Lightweight parallax active"))}console.log("%c\n🎉 All Systems Ready! Website is Fully Functional.\n ","color: #10b981; font-weight: bold; font-size: 14px;");